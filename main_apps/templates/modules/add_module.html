<h2>Tambah / Install Module</h2>

<form method="post">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit">Install Modul</button>
</form>

<script>
  const nameInput = document.getElementById("id_name");
  const urlPathInput = document.getElementById("id_url_path");

  function slugify(text) {
    return text
      .toLowerCase()
      .trim()
      .replace(/[^a-z0-9\s\-\/]/g, '')  
      .replace(/\s+/g, '-')             
      .replace(/\/+/g, '/')             
      .replace(/\-+/g, '-')             
      .replace(/^\-+|\-+$/g, '');       
  }

  nameInput.addEventListener('input', function () {
    const slug = slugify(this.value);
    if (!urlPathInput.dataset.userEdited) {
      urlPathInput.value = slug;
    }
  });


  urlPathInput.addEventListener('input', function () {
    this.dataset.userEdited = "true";
  });
</script>

<br>
<a href="{% url 'module-list' %}">‚Üê Kembali ke daftar modul</a>
