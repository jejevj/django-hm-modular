{% extends "base.html" %}
{% block content %}
<div class="container mt-5">

  <!-- ========== HERO / MODULE INFO ========== -->
  <div class="card mb-4 shadow">
    <div class="card-body">
      <h2 class="card-title">{{ module.name }}</h2>
      <p><strong>URL Path:</strong> {{ module.url_path }}</p>
      <p><strong>Deskripsi:</strong> {{ module.description }}</p>
      <p><strong>Versi:</strong> {{ module.version }}</p>
    </div>
  </div>

  <!-- ========== PRODUCT LIST ========== -->
  <div class="mb-3">
    <h3 class="mb-3">Produk dalam Modul Ini</h3>

    {% if products %}
    <div class="row">
      {% for product in products %}
      <div class="col-md-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">{{ product.name }}</h5>
            <p class="card-text">
              <strong>Harga:</strong> Rp {{ product.price }}<br>
              <strong>Stok:</strong> {{ product.stock }}
            </p>
            {% if product.barcode %}
            <img src="data:image/png;base64,{{ product.barcode }}" alt="Barcode" class="img-fluid mt-auto">
            {% endif %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    {% else %}
    <div class="alert alert-info" role="alert">
      Tidak ada produk dalam modul ini.
    </div>
    {% endif %}
  </div>

  <!-- ========== BACK BUTTON ========== -->
  {% if user.is_authenticated %}
  <a href="{% url 'module-list' %}" class="btn btn-secondary mt-3">
    <i class="fas fa-arrow-left"></i> Kembali ke daftar modul
  </a>
  {% endif %}
</div>
{% endblock %}